<div>Table Summary</div>
<form [formGroup]="form">
  <div class="table-summary-container">
    <div *ngFor="let checkbox of seatCheckboxes.value.controls;let i = index">
      <input type="checkbox" id="checkbox[i]" [formControl]="checkbox">
      <span>
       Seat {{i + 1}} {{checkbox.name}}
      </span>
      <!-- <div *ngFor="let item of seat.items">
        <span (click)="selectItem(item)">
          {{item.name}}
        </span>
      </div> -->
    </div>
  </div>
</form>

<div class="table-summary-container">
<!-- <button type="button" class="close px-3 py-0 btn position-absolute" aria-label="Close" (click)="!viewSummary">
    <svg xmlns="http://www.w3.org/2000/svg"height="16px" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" viewBox="0 0 1000 1000" fill="#b5b5b5" enable-background="new 0 0 1000 1000" xml:space="preserve">
      <metadata> Svg Vector Icons : http://www.onlinewebfonts.com/icon </metadata>
      <g><path d="M585.8,500l385.9-385.9c24.5-24.5,24.5-61.3,0-85.8c-24.5-24.5-61.3-24.5-85.8,0L500,414.3L114.1,28.4c-24.5-24.5-61.2-24.5-85.8,0c-24.5,24.5-24.5,61.3,0,85.8L411.2,500L28.4,885.9c-24.5,24.5-24.5,61.3,0,85.8c9.2,12.3,27.6,18.4,42.9,18.4c15.3,0,30.6-6.1,42.9-18.4L500,585.8l385.9,385.9c12.3,12.3,27.6,18.4,42.9,18.4s30.6-6.1,42.9-18.4c24.5-24.5,24.5-61.3,0-85.8L585.8,500z"/></g>
      </svg>
</button> -->
<div class="main-wrap">
<ngb-accordion #acc="ngbAccordion" [closeOthers]="true">
    <ngb-panel *ngFor="let seat of tableSummaryTable.seats; let i = index" id="ngb-panel-table-{{i}}">
        <ng-template ngbPanelTitle>
          <div class="d-flex justify-content-between align-items-center p-3">
            <div class="d-flex align-items-center">
            <svg xmlns="http://www.w3.org/2000/svg" fill="#1226aa" id="Bold" height="24px" width="24px" viewBox="0 0 24 24"><title>chair</title><path d="M18.521,10.775a.255.255,0,0,1-.021-.1V1a1,1,0,0,0-2,0v.5A.5.5,0,0,1,16,2H8a.5.5,0,0,1-.5-.5V1a1,1,0,0,0-2,0v9.673a.255.255,0,0,1-.021.1C5.24,11.311,3.5,15.228,3.5,15.5v1A.5.5,0,0,0,4,17H20a.5.5,0,0,0,.5-.5v-1C20.5,15.228,18.76,11.311,18.521,10.775ZM16.5,10a.5.5,0,0,1-.5.5H8a.5.5,0,0,1-.5-.5V7A.5.5,0,0,1,8,6.5h8a.5.5,0,0,1,.5.5Z"/><path d="M5.5,19a.5.5,0,0,0-.5-.5H4a.5.5,0,0,0-.5.5v4a1,1,0,0,0,2,0Z"/><path d="M20,18.5H19a.5.5,0,0,0-.5.5v4a1,1,0,0,0,2,0V19A.5.5,0,0,0,20,18.5Z"/></svg>
            <div class="ml-1 rounded-circle seat-number secondary-font">{{seat.number}}</div>
            </div>
            <div class="d-flex seat-info align-items-center">
            <div class="mr-1">({{seat.items.length}} items)</div>
            <div>{{seat.subtotal | currency}}</div>
            </div>
          </div>

        </ng-template>
        <ng-template ngbPanelContent>
            <div *ngFor="let item of seat.items" class="justify-content-between d-flex p-3 item">
              <div class="item-name">{{item.name}}</div>
              <div>{{item.price | currency}}</div>
          </div>
        </ng-template>
      </ngb-panel>
    </ngb-accordion>
  </div>

<!-- <button (click)="printBill()">Print Bill</button> -->


<button (click)="buildBill();">PDF</button>

<!-- <div class="d-none"> -->
  <div id="receipt">
    
    <div>
      <div class="d-flex justify-content-between">
        <div>Fake Winery</div>
        <div>Fake Street at smithville</div>
      </div>
      <div class="d-flex justify-content-between">
        <div>Order No. {{ tableSummaryTable.number }}</div>
        <div>{{ tableSummaryTable.createdAt }}</div>
      </div>
      <div class="d-flex justify-content-between">
        <div>Sale</div>
        <div>Served by: Jolie</div>
      </div>
      
      <div *ngFor="let seat of billSeats">
        <div class="py-2 seat-row">Seat {{seat.number}}</div>
        <div class="d-flex justify-content-between" *ngFor="let item of billItems">
          <div>- {{item.name}} x {{item.quantity}} </div>
          <div>{{item.price * item.quantity}}</div>
        </div>
        <div class="py-2 d-flex justify-content-end font-weight-bold">
          Subtotal{{seat.subtotal | currency}}
        </div>
      </div>
      
  </div>
<!-- </div> -->
